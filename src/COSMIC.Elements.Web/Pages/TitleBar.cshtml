@page "{instanceId}"
@model COSMIC.Elements.Web.Pages.TitleBar

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <link href="/vendor/boostrap-5.1.3/css/bootstrap.min.css" rel="stylesheet"/>
        <script src="/vendor/boostrap-5.1.3/js/popper.min.js" crossorigin="anonymous"></script>
        <script src="/vendor/boostrap-5.1.3/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="/vendor/vue-3.2.22/vue.global.js" crossorigin="anonymous"></script>
    <script src="https://kit.fontawesome.com/1f07e28702.js" crossorigin="anonymous"></script>
    <script src="/Js/VueAppLoader.js"  crossorigin="anonymous"></script>
    <title></title>
    <style>
    button{padding: 1px !important; padding-left: 5px !important; padding-right: 5px !important;}
      button i {font-size: .7rem;}
      body{ background-color: #333;     color: white }
            
    </style>
    
    <script>
    
    </script>
</head>
<body>
<div id="title-bar"></div>
<script>
document.addEventListener("DOMContentLoaded", function(event) { 
    
    var instanceId = "@Model.InstanceId";
     fetch("/Instance/@Model.InstanceId").then(
         response => {
                return response.json();
            }).then(json => {
                document.loader = new VueAppLoader("/Vue/Apps/title-bar.html", () => ( {tool: json.screenModel}), {
                    minimize (){
                        fetch('/Action/' + instanceId + "/Minimize");
                    },
                    maximize (){
                        fetch('/Action/' + instanceId +  "/Maximize");
                    },
                    normalize (){
                        fetch('/Action/' + instanceId +  "/Normalize");
                    },
                    close (){
                        fetch('/Action/' + instanceId +  "/Close");
                    }
                } , "#title-bar");
                    document.loader.load();
            });
    
    
});
</script>
</body>


</html>